# SDM-CropProj - Model assisted framework to forecast olive crop production

This repository contains code and data for running the Arenas-Castro & Gonçalves (2020) 
framework for forecasting olive crop habitat suitability and production. 

Despite this framework has been implemented and tested with several olive crop varieties 
it is expected to be applicable to other crops.

# 1. Folder structure

- __DATA__: test data for running the package
- __OUTPUTS__: outputs generated by the modelling framework
- __RCODE__: scripts used to implement the workflow

# 2. Test data

The DATA folder subdivides into the following sub-folders:

- __PredictorVariables__: contains predictor variables used to explain the environmental 
suitability and distribution of the response variable (i.e. presence/absence of target 
crop(s), more specifically olive varieties)

   - _Current_: spatial data in raster format (filetype: ESRI ASCII) for current conditions. 
   Test data Coordinate Reference System is WGS 1894 Geographic. All data layers contain the same 
   number of columns and rows as well as equal spatial extent as to allow their overlap. 
   Climatic variables (see list below: 1,2,5,6,8) represent average values for the interval 1961-2000. 
   The following variables are included:

   |File name           |Description                           |
   |--------------------|--------------------------------------|
   |1._et_ref.asc_      |evapotranspiration (EVTP; mm/year)    |
   |2. _ic.asc_         |continentality index (IDCT; °C)       |
   |3. _orient.asc_     |solar orientation (SLOR; degrees)     |
   |4. _ph.asc_         |Soil pH                               |
   |5. _prec_oto.asc_   |autumn precipitation (PRAU; mm)       |
   |6. _prec_ver.asc_   |summer precipitation (PRSM; mm)       |
   |7. _pte_pct.asc_    |slope (SLPC; %)                       |
   |8. _tmed_inv.asc_   |average winter temperature (TPWT; °C) |

   - _Future_: This directory contains a set of sub-folders one for each required projection 
   scenario/date.For testing purposes, the example data includes the Local Scenarios of Climate 
   Change of Andalusia (ELCCA) (URL: http://www.juntadeandalucia.es/medioambiente/site/rediam). 
   These regional climate change scenarios were specifically developed for the Andalusia region 
   to represent the changes expected in the climate in the coming decades, according to studies 
   carried out on a planetary scale. More specifically, the following projection dates are 
   included (*): 
      - 2040
      - 2070
      - 2100

   (*) NOTE: only climatic variables (1,2,5,6,8) are changed in relation to current conditions. 
    The remaining variables (3,4,7) are copies since these are considered temporally "static". 
    For simplicity sake, it is better to copy static variables for each projection folder.

File names of predictor variables inside the current and future folders must all be the same 
since these will be used as names for the predictor variables in biomod2 modelling routines.

- __ProductivityData__: multi-year (2010-2014) olive crop production data (in tons) 
and cultivated surface area for Andalusia (filename: _Olive_ProductionSurface_Andalusia_2010_2014.csv_).

- __Regions__: a raster dataset containing administrative regions

- __ResponseVariable__: Presence records for each target crop(s), in this case olive varieties for the 
spanish Andalusia region. Table _OLIVE_VARIETIES_DATA_all.csv_ contains presence-only data for eight 
varieties in total:

   |Target                | Code | Main features                                      | Area (km2) |
   |----------------------|------|----------------------------------------------------|------------|
   |Acebuche              | Oe   | Wild species of reference                          | 2161       |
   |Hojiblanca            | Hj   | Very frequent olive-tree variety in plant nursery  | 7868       |
   |Lechín de Sevilla     | Lch  | Frequent olive-tree variety in plant nursery       | 3221       |
   |Manzanilla de Sevilla | Mnz  | Frequent table olive-tree variety in plant nursery | 2654       |
   |Nevadillo negro       | Nvd  | Traditional olive-tree variety                     | 1114       |
   |Picudo                | Pcd  | Traditional olive-tree variety                     | 2459       |
   |Picual                | Pcl  | Very frequent olive-tree variety in plant nursery  | 18677      |
   |Verdial de Huévar     | Vrd  | Traditional olive-tree variety                     | 865        |

   - The table has four columns:
      - ID: observation identifier	
      - X: longitude (decimal degrees)
      - Y: latitude (decimal degrees)
      - NAME: name of the crop species or variety (i.e. olive variety code - see table above)


# 3. Workflow

TODO

# 4. Contact us

Salvador Arenas-Castro: salvadorarenascastro [at] cibio.up.pt

João F Gonçalves: joao.goncalves [at] cibio.up.pt